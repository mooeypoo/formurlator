<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>formURLator Demos</title>
  <meta name="description" content="formURLator demo">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="demos.css">
  <script src="../dist/formurlator.oojs.min.js"></script>

  <script>
	document.addEventListener( 'DOMContentLoaded', function( event ) {
		var i,
			stopAllToggleButton = document.getElementById( 'demo-action-stop-all' ),
			checkboxesToggle = document.querySelectorAll( '#demo-activate' ),
			isStopped = false,
			toggleActive = function ( event ) {
				var checkbox = event.target,
					param = checkbox.dataset.param;

				if ( checkbox.checked ) {
					formurlator.start( param );
				} else {
					formurlator.stop( param );
				}
			},
			updateStopAllToggleLabel = function ( isStopped ) {
				stopAllToggleButton.textContent = isStopped ?
					'Start synchronizing URL' :
					'Stop syncrhonizing URL';
			};

		formurlator.add( {
			name: document.getElementById( 'demo-name' ),
			age: document.getElementById( 'demo-age' ),
			color: document.getElementById( 'demo-color' ),
			commute: document.getElementById( 'demo-commute' ),
			like: document.getElementById( 'demo-like' ),
			workpref: document.getElementsByName( 'workpref' )
		} );

		updateStopAllToggleLabel( false );

		stopAllToggleButton.onclick = function () {
			isStopped = !isStopped;
			updateStopAllToggleLabel( isStopped );

			if ( isStopped ) {
				formurlator.stop();
			} else {
				formurlator.start();
			}

			for ( i = 0; i < checkboxesToggle.length; i++ ) {
				checkboxesToggle[ i ].checked = !isStopped;
			}
		};

		for ( i = 0; i < checkboxesToggle.length; i++ ) {
			checkboxesToggle[ i ].addEventListener( 'change', toggleActive );
		}

	} );
  </script>
</head>
<body>
	<h1>formurlator demo</h1>

	<div class="fr-demo">
		<table>
			<tr>
				<td class="table-label">Your name:</td>
				<td class="table-input"><input id="demo-name" type="text" placeholder="Your name"></td>
				<td class="table-toggle"><input type="checkbox" id="demo-activate" data-param="name" checked><label for="demo-activate-name">Active</label></td>
			</tr>
			<tr>
				<td class="table-label">Your age:</td>
				<td class="table-input"><input id="demo-age" type="number" min="5" max="120"><br /><small>(Number between 5 and 120)</smal></td>
				<td class="table-toggle"><input type="checkbox" id="demo-activate" data-param="age" checked><label for="demo-activate-name">Active</label></td>
			</tr>
			<tr>
				<td class="table-label">Favorite color:</td>
				<td class="table-input">
					<select id="demo-color">
						<option value="yellow">Yellow</option>
						<option value="green" selected>Green</option>
						<option value="blue">Blue</option>
						<option value="red">Red</option>
					</select>
				</td>
				<td class="table-toggle"><input type="checkbox"  id="demo-activate" data-param="color" checked><label for="demo-activate-name">Active</label></td>
			</tr>
			<tr>
				<td class="table-label">Favorite commute:</td>
				<td class="table-input">
					<select id="demo-commute" multiple>
						<option value="car">Car</option>
						<option value="bus" selected>Bus</option>
						<option value="subway">Subway</option>
						<option value="bike">Bike</option>
					</select>
				</td>
				<td class="table-toggle"><input type="checkbox"  id="demo-activate" data-param="commute" checked><label for="demo-activate-name">Active</label></td>
			</tr>
			<tr>
				<td class="table-label">Favorite commute:</td>
				<td class="table-input"><input id="demo-like" type="checkbox" checked><label for="demo-like">I like this</label></td>
				<td class="table-toggle"><input type="checkbox"  id="demo-activate" data-param="like" checked><label for="demo-activate-name">Active</label></td>
			</tr>
			<tr>
				<td class="table-label">I work best at</td>
				<td class="table-input">
					<input id="demo-workpref-day" name="workpref" value="day" type="radio"><label for="demo-workpref-day">During the day</label>
					<input id="demo-workpref-night" name="workpref" value="night" type="radio"><label for="demo-workpref-night">During the night</label>
					<input id="demo-workpref-dontcare" name="workpref" value="any" type="radio"><label for="demo-workpref-dontcare">Anytime</label>
				</td>
				<td class="table-toggle"><input type="checkbox"  id="demo-activate" data-param="workpref" checked><label for="demo-activate-name">Active</label></td>
			</tr>
			<tr>
				<td colspan="3"><button id="demo-action-stop-all">Stop syncrhonizing URL</button></td>
			</tr>
		</table>

	</div>
</body>
</html>
